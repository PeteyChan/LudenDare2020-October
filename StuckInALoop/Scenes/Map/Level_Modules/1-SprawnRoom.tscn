[gd_scene load_steps=12 format=2]

[ext_resource path="res://Scenes/Map/Assets/Temp/6-Room-door.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Map/Assets/Temp/5-Room-Floor.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Map/Assets/Temp/4-Room-edge.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Map/Assets/Temp/3-Room-corner.tscn" type="PackedScene" id=4]
[ext_resource path="res://Rick/Assets/Obstacles/Trees/Tree-1.tscn" type="PackedScene" id=5]
[ext_resource path="res://Rick/Assets/Obstacles/Walls/LongWall_X.tscn" type="PackedScene" id=6]
[ext_resource path="res://Rick/Assets/Obstacles/Foilage/Bush-1.tscn" type="PackedScene" id=7]
[ext_resource path="res://Pete/Wall.tscn" type="PackedScene" id=8]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

var boss_prefab = load(\"res://Actors/Enemies/Boss.tscn\")

onready var spawn_point = $Spawn_Position
onready var boss_seal = $\"Boss Seal\"
var boss = null
var fighting = false

func _ready():
	remove_child(boss_seal)

# warning-ignore:unused_argument
func _process(delta):
	if (fighting):
		if (boss == null):
			Game.loops += 1
			fighting = false
			remove_child(boss_seal)

# warning-ignore:unused_argument
func _on_SpawnBoss_body_entered(body):
	if (Game.spawn_boss):
		Game.spawn_boss = false
		boss = boss_prefab.instance()
		call_deferred(\"add_to_scene\")
		fighting = true;

func add_to_scene():
	get_tree().current_scene.add_child(boss)
	boss.global_position = spawn_point.global_position
	add_child(boss_seal)
"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 246.217, 55.741 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 188.179, 57.7972 )

[node name="Map_Layout" type="Node2D"]

[node name="SpawnRoomNode2D51" parent="." instance=ExtResource( 1 )]
position = Vector2( 3.05176e-05, -1152 )
rotation = 1.5708
z_index = -7

[node name="SpawnRoomNode2D59" parent="." instance=ExtResource( 1 )]
position = Vector2( 0, -128 )
rotation = -1.5708
z_index = -7

[node name="SpawnRoomNode2D50" parent="." instance=ExtResource( 4 )]
position = Vector2( -512, -1152 )
z_index = -7

[node name="SpawnRoomNode2D54" parent="." instance=ExtResource( 4 )]
position = Vector2( 512, -1152 )
rotation = 1.5708
z_index = -7

[node name="SpawnRoomNode2D55" parent="." instance=ExtResource( 4 )]
position = Vector2( 512, -128 )
rotation = 3.14159
z_index = -7

[node name="SpawnRoomNode2D56" parent="." instance=ExtResource( 4 )]
position = Vector2( -512, -128 )
rotation = -1.5708
z_index = -7

[node name="SpawnRoomNode2D52" parent="." instance=ExtResource( 3 )]
position = Vector2( -256, -1152 )
z_index = -7

[node name="SpawnRoomNode2D57" parent="." instance=ExtResource( 3 )]
position = Vector2( 256, -128 )
rotation = 3.14159
z_index = -7

[node name="SpawnRoomNode2D58" parent="." instance=ExtResource( 3 )]
position = Vector2( -256, -128 )
rotation = 3.14159
z_index = -7

[node name="SpawnRoomNode2D12" parent="." instance=ExtResource( 3 )]
position = Vector2( -512, -384 )
rotation = -1.5708
z_index = -7

[node name="SpawnRoomNode2D14" parent="." instance=ExtResource( 3 )]
position = Vector2( -512, -640 )
rotation = -1.5708
z_index = -7

[node name="SpawnRoomNode2D16" parent="." instance=ExtResource( 3 )]
position = Vector2( -512, -896 )
rotation = -1.5708
z_index = -7

[node name="SpawnRoomNode2D96" parent="." instance=ExtResource( 3 )]
position = Vector2( 512, -896 )
rotation = 1.5708
z_index = -7

[node name="SpawnRoomNode2D97" parent="." instance=ExtResource( 3 )]
position = Vector2( 512, -640 )
rotation = 1.5708
z_index = -7

[node name="SpawnRoomNode2D98" parent="." instance=ExtResource( 3 )]
position = Vector2( 512, -384 )
rotation = 1.5708
z_index = -7

[node name="SpawnRoomNode2D102" parent="." instance=ExtResource( 2 )]
position = Vector2( -256, -896 )
z_index = -7

[node name="SpawnRoomNode2D103" parent="." instance=ExtResource( 2 )]
position = Vector2( 0, -896 )
z_index = -7

[node name="SpawnRoomNode2D104" parent="." instance=ExtResource( 2 )]
position = Vector2( 256, -896 )
z_index = -7

[node name="SpawnRoomNode2D105" parent="." instance=ExtResource( 2 )]
position = Vector2( -256, -640 )
z_index = -7

[node name="SpawnRoomNode2D106" parent="." instance=ExtResource( 2 )]
position = Vector2( 0, -640 )
z_index = -7

[node name="SpawnRoomNode2D107" parent="." instance=ExtResource( 2 )]
position = Vector2( 256, -640 )
z_index = -7

[node name="SpawnRoomNode2D108" parent="." instance=ExtResource( 2 )]
position = Vector2( -256, -384 )
z_index = -7

[node name="SpawnRoomNode2D109" parent="." instance=ExtResource( 2 )]
position = Vector2( 0, -384 )
z_index = -7

[node name="SpawnRoomNode2D110" parent="." instance=ExtResource( 2 )]
position = Vector2( 256, -384 )
z_index = -7

[node name="SpawnRoomNode2D53" parent="." instance=ExtResource( 3 )]
position = Vector2( 256, -1152 )
z_index = -7

[node name="Node2D566" type="Node2D" parent="."]

[node name="Tree-1" parent="." instance=ExtResource( 5 )]
position = Vector2( -592, -1320 )
scale = Vector2( 0.8, 0.8 )

[node name="Tree-2" parent="." instance=ExtResource( 5 )]
position = Vector2( -176, -1320 )
scale = Vector2( 0.8, 0.8 )

[node name="Tree-3" parent="." instance=ExtResource( 5 )]
position = Vector2( -598, -1256 )
scale = Vector2( 0.8, 0.8 )

[node name="Tree-5" parent="." instance=ExtResource( 5 )]
position = Vector2( 612, -1332 )
scale = Vector2( 0.8, 0.8 )

[node name="Tree-4" parent="." instance=ExtResource( 5 )]
position = Vector2( -600, -192 )
scale = Vector2( 0.8, 0.8 )

[node name="LongWall_X" parent="." instance=ExtResource( 6 )]
position = Vector2( -512, -1272 )

[node name="LongWall_X2" parent="." instance=ExtResource( 6 )]
position = Vector2( -400, -1272 )

[node name="LongWall_X3" parent="." instance=ExtResource( 6 )]
position = Vector2( -287, -1272 )

[node name="LongWall_X4" parent="." instance=ExtResource( 6 )]
position = Vector2( 563, -37 )

[node name="Bush-1" parent="." instance=ExtResource( 7 )]
position = Vector2( -528, -1200 )
scale = Vector2( 0.6, 0.6 )

[node name="Bush-2" parent="." instance=ExtResource( 7 )]
position = Vector2( -581, -1136 )
rotation = 0.760963
scale = Vector2( 0.657, 0.575 )

[node name="Bush-3" parent="." instance=ExtResource( 7 )]
position = Vector2( -558, -1009 )
rotation = -0.380482
scale = Vector2( 0.6, 0.6 )

[node name="Bush-6" parent="." instance=ExtResource( 7 )]
position = Vector2( 586, -1173 )
rotation = -0.380482
scale = Vector2( 0.6, 0.6 )

[node name="Bush-4" parent="." instance=ExtResource( 7 )]
position = Vector2( 613, -119 )
rotation = -6.21861
scale = Vector2( 0.6, 0.6 )

[node name="Bush-5" parent="." instance=ExtResource( 7 )]
position = Vector2( -602, -44 )
rotation = -6.21861
scale = Vector2( 0.6, 0.6 )

[node name="SpawnBoss" type="Node2D" parent="."]
script = SubResource( 1 )

[node name="Spawn_Position" type="Node2D" parent="SpawnBoss"]
position = Vector2( 2.08715, -715.707 )

[node name="Boss Seal" type="KinematicBody2D" parent="SpawnBoss"]
position = Vector2( 0, -1265.32 )
z_index = 3

[node name="Wall" parent="SpawnBoss/Boss Seal" instance=ExtResource( 8 )]
position = Vector2( -1.68176, 10.0908 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpawnBoss/Boss Seal"]
shape = SubResource( 2 )

[node name="SpawnBoss" type="Area2D" parent="SpawnBoss"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpawnBoss/SpawnBoss"]
shape = SubResource( 3 )
[connection signal="body_entered" from="SpawnBoss/SpawnBoss" to="SpawnBoss" method="_on_SpawnBoss_body_entered"]
